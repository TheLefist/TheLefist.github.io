(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{58:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a,i,s,r,c,l,o,d,u,j,b,m,h,p,g,O,v,x,y,f,N,w,S,I,_,k,L,E,C,T,U,M,D,R,G,$,F,q,P,A=n(30),H=n.n(A),B=n(36),V=n(2),K=n.n(V),Y=n(42),z=n.n(Y),Q=(n(58),n(16)),Z=n(26),J=n(9),W=n(10),X=n(8),ee=n(12),te=n(11),ne=n(69),ae=n(5),ie=n(6),se={NEW_PLAYLIST:Object(ie.a)(a||(a=Object(ae.a)(["\n    mutation NewPlaylist($title: String, $description: String, $user: ID) {\n      newPlaylist(title: $title, description: $description, user: $user) {\n        _id\n        title\n        description\n      }\n    }\n  "]))),DELETE_PLAYLIST:Object(ie.a)(i||(i=Object(ae.a)(["\n    mutation DeletePlaylist($id: ID!) {\n      deletePlaylist(id: $id) {\n        _id\n      }\n    }\n  "]))),ADD_PLAYLIST_SONG:Object(ie.a)(s||(s=Object(ae.a)(["\n    mutation AddPlaylistSong($playlistId: ID, $songId: ID) {\n      addPlaylistSong(playlistId: $playlistId, songId: $songId) {\n        _id\n        title\n        songs {\n          _id\n          title\n          artist {\n            _id\n            name\n          }\n        }\n      }\n    }\n  "]))),REMOVE_PLAYLIST_SONG:Object(ie.a)(r||(r=Object(ae.a)(["\n    mutation RemovePlaylistSong($playlistId: ID, $songId: ID) {\n      removePlaylistSong(playlistId: $playlistId, songId: $songId) {\n        _id\n        title\n        songs {\n          _id\n          title\n          artist {\n            _id\n            name\n          }\n        }\n      }\n    }\n  "]))),LOGIN_USER:Object(ie.a)(c||(c=Object(ae.a)(["\n    mutation LoginUser($email: String!, $password: String!) {\n      login(email: $email, password: $password) {\n        token\n        loggedIn\n        _id\n      }\n    }\n  "]))),VERIFY_USER:Object(ie.a)(l||(l=Object(ae.a)(["\n    mutation VerifyUser($token: String!) {\n      verifyUser(token: $token) {\n        loggedIn\n        _id\n      }\n    }\n  "]))),REGISTER_USER:Object(ie.a)(o||(o=Object(ae.a)(["\n    mutation RegisterUser($name: String!, $email: String!, $password: String!) {\n      register(name: $name, email: $email, password: $password) {\n        email\n        token\n        loggedIn\n        _id\n      }\n    }\n  "]))),ADD_SONG_LIKE:Object(ie.a)(d||(d=Object(ae.a)(["\n    mutation AddSongLike($songId: ID!, $userId: ID!) {\n      addSongLike(songId: $songId, userId: $userId) {\n        _id\n        likes\n      }\n    }\n  "]))),REMOVE_SONG_LIKE:Object(ie.a)(u||(u=Object(ae.a)(["\n    mutation RemoveSongLike($songId: ID!, $userId: ID!) {\n      removeSongLike(songId: $songId, userId: $userId) {\n        _id\n        likes\n      }\n    }\n  "])))},re=n(0),ce=se.LOGIN_USER,le=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={email:"",password:""},a.signupRedirect=a.signupRedirect.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(Z.a)({},e,n.target.value))}}},{key:"updateCache",value:function(e,t){var n=t.data;e.writeData({data:{isLoggedIn:n.login.loggedIn,currentUser:n.login._id}})}},{key:"signupRedirect",value:function(){this.props.history.push("/register")}},{key:"render",value:function(){var e=this;return Object(re.jsx)("div",{className:"auth-page-container",children:Object(re.jsx)(ne.a,{mutation:ce,onCompleted:function(t){var n=t.login.token;localStorage.setItem("currentUser",t.login._id),localStorage.setItem("auth-token",n),e.props.history.push("/")},update:function(t,n){return e.updateCache(t,n)},onError:function(e){console.log("ERROR in SigninBox ",{error:e})},children:function(t,n){var a=n.error;return Object(re.jsxs)("div",{className:"login",children:[Object(re.jsx)("div",{className:"signup-header"}),Object(re.jsxs)("div",{className:"content-login-1",children:[Object(re.jsxs)("form",{className:"form",onSubmit:function(n){n.preventDefault(),t({variables:{email:e.state.email,password:e.state.password}})},children:[Object(re.jsx)("br",{}),Object(re.jsx)("br",{}),Object(re.jsx)("label",{children:Object(re.jsx)("input",{value:e.state.email,onChange:e.update("email"),className:"input-register-2",placeholder:"Email"})}),Object(re.jsx)("br",{}),Object(re.jsxs)("label",{children:[Object(re.jsx)("input",{value:e.state.password,onChange:e.update("password"),className:"input-register-2",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),a?Object(re.jsx)("div",{className:"input-error",children:a.graphQLErrors[0].message}):Object(re.jsx)("div",{style:{display:"none"},children:null})]}),Object(re.jsx)("br",{}),Object(re.jsx)("button",{type:"submit",className:"login-submit",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]}),Object(re.jsx)("span",{id:"no-account-q",children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438?"}),Object(re.jsx)("button",{type:"submit",className:"signup-button",onClick:e.signupRedirect,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})}})})}}]),n}(V.Component),oe={CURRENT_USER:Object(ie.a)(j||(j=Object(ae.a)(["\n    query CurrentUser {\n      currentUser @client,\n      isLoggedIn @client\n    }\n  "]))),FETCH_PLAYLIST:Object(ie.a)(b||(b=Object(ae.a)(["\n    query FetchPlaylist($id: ID!) {\n      playlist(_id: $id) {\n        _id\n        title\n        description\n        songs {\n          _id\n          artist {\n            _id\n            name\n          }\n          title\n          imageUrl\n          songUrl\n        }\n      }\n    }\n  "]))),FETCH_PLAYLISTS:Object(ie.a)(m||(m=Object(ae.a)(["\n    query FetchPlaylists {\n      playlists {\n        _id\n        title\n        description\n        user {\n          name\n          _id\n        }\n        songs {\n          _id\n          artist {\n            _id\n            name\n          }\n          title\n          imageUrl\n          songUrl\n        }\n      }\n    }\n  "]))),IS_LOGGED_IN:Object(ie.a)(h||(h=Object(ae.a)(["\n    query IsUserLoggedIn {\n      isLoggedIn @client\n    }\n  "]))),FETCH_ALL_SONGS:Object(ie.a)(p||(p=Object(ae.a)([" \n    query FetchAllSongs {\n      songs {\n        _id\n        title\n        imageUrl\n        songUrl\n        artist {\n          _id\n          name\n          imageUrl\n        }\n      }\n    }\n  "]))),FETCH_ALL_ARTISTS:Object(ie.a)(g||(g=Object(ae.a)([" \n    query FetchAllArtists {\n      artists {\n        _id\n        name\n        imageUrl\n        songs {\n          _id\n          title\n          likes\n        }\n        genres {\n          _id\n          name\n        }\n      }\n    }\n  "]))),FETCH_ALL_GENRES:Object(ie.a)(O||(O=Object(ae.a)([" \n    query FetchAllGenres {\n      genres {\n        _id\n        name\n        imageUrl\n        artists {\n          _id\n          name\n          imageUrl\n        }\n      }\n    }\n  "]))),FETCH_ARTIST:Object(ie.a)(v||(v=Object(ae.a)(["\n    query FetchArtist($id: ID!) {\n      artist(_id: $id) {\n        _id\n        name\n        songs {\n          _id\n          name\n        }\n        genres {\n          _id\n          name\n        }\n        imageUrl\n        description\n      }\n    }\n  "]))),FETCH_GENRE:Object(ie.a)(x||(x=Object(ae.a)(["\n    query FetchGenre($id: ID!) {\n      genre(_id: $id) {\n        _id\n        name\n        imageUrl\n        artists {\n          _id\n          name\n          imageUrl\n          songs {\n            _id\n            title\n            likes\n          }\n        }\n      }\n    }\n  "]))),FETCH_SONG:Object(ie.a)(y||(y=Object(ae.a)(["\n    query FetchSong($id: ID!) {\n      song(_id: $id) {\n        _id\n        title\n        songUrl\n        imageUrl\n        artist {\n          _id\n          name\n          imageUrl\n          description\n          genres {\n            _id\n            name\n          }\n        }\n      }\n    }\n  "]))),FETCH_FILTERED_SONGS:Object(ie.a)(f||(f=Object(ae.a)(["\n  query FetchFilteredSongs($filter: String!) {\n    feed{\n      songs {\n        _id\n        title\n        imageUrl\n        songUrl\n        artist {\n          _id\n          name\n          imageUrl\n        }\n      }\n    }\n  }\n"]))),FETCH_GENRE_SONGS:Object(ie.a)(N||(N=Object(ae.a)(["\n    query FetchGenreSongs($id: ID!) {\n      genre(_id: $id) {\n        _id\n        name\n        artists {\n          _id\n          songs {\n            _id\n            title\n            songUrl\n            imageUrl\n            likes\n          }\n        }\n      }\n    }\n  "]))),FETCH_LIKED_SONGS:Object(ie.a)(w||(w=Object(ae.a)(["\n    query FetchLikedSongs($id: ID!) {\n      user(_id: $id) {\n        _id\n        email\n        likedSongs {\n          _id\n          title\n          imageUrl\n          songUrl\n          artist {\n            _id\n            name\n            imageUrl\n          }\n          likes\n        }\n      }\n    }\n  "])))},de=n(13),ue=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){return Object(J.a)(this,n),t.call(this,e)}return Object(W.a)(n,[{key:"render",value:function(){return Object(re.jsxs)("div",{className:"genre-index-main",children:[Object(re.jsx)("div",{className:"genre-index-homepage-header",children:Object(re.jsx)("h1",{className:"genre-index-header homepage-header",children:Object(re.jsx)("span",{className:"artist-banner-name",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})})}),Object(re.jsx)(ne.b,{query:oe.FETCH_ALL_GENRES,children:function(e){var t=e.loading,n=e.error,a=e.data;return t?Object(re.jsx)("div",{class:"loader",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):n?Object(re.jsx)("p",{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}):Object(re.jsxs)("ul",{className:"genre-index-list",children:[a.genres.map((function(e,t){return Object(re.jsxs)("li",{className:"genre-index-item",children:[Object(re.jsx)("img",{src:e.imageUrl,className:"genre-index-item-image"}),Object(re.jsx)(de.b,{to:"/genres/".concat(e._id),className:"genre-index-item-link",children:Object(re.jsx)("p",{className:"genre-index-item-name",children:e.name})})]},e._id)})),Object(re.jsx)("li",{className:"genre-index-item-hidden"}),Object(re.jsx)("li",{className:"genre-index-item-hidden"}),Object(re.jsx)("li",{className:"genre-index-item-hidden"}),Object(re.jsx)("li",{className:"genre-index-item-hidden"})]})}})]})}}]),n}(K.a.Component),je=n(31),be=n(52),me=["component","path","exact","routeType"],he=oe.IS_LOGGED_IN,pe=function(e){var t=e.component,n=e.path,a=e.exact,i=e.routeType,s=Object(be.a)(e,me);return Object(re.jsx)(ne.b,{query:he,children:function(e){var r=e.data;return"auth"===i?Object(re.jsx)(Q.b,{path:n,exact:a,render:function(e){return r.isLoggedIn?Object(re.jsx)(Q.a,{to:"/"}):Object(re.jsx)(t,Object(je.a)({},e))}}):Object(re.jsx)(Q.b,Object(je.a)(Object(je.a)({},s),{},{render:function(e){return r.isLoggedIn?Object(re.jsx)(t,Object(je.a)({},e)):Object(re.jsx)(Q.a,{to:"/login"})}}))}})},ge=n(17),Oe=oe.IS_LOGGED_IN,ve=Object(Q.g)((function(e){return Object(re.jsx)("div",{className:"auth-buttons",children:Object(re.jsx)(ge.a,{children:function(t){return Object(re.jsx)(ne.b,{query:Oe,children:function(n){if(n.data.isLoggedIn)return Object(re.jsx)("div",{className:"account-button",onClick:function(n){n.preventDefault(),localStorage.removeItem("auth-token"),t.writeData({data:{isLoggedIn:!1}}),e.history.push("/")},children:"\u0412\u044b\u0439\u0442\u0438"})}})}})})})),xe=se.REGISTER_USER,ye=se.LOGIN_USER,fe=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",name:""},a}return Object(W.a)(n,[{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(Z.a)({},e,n.target.value))}}},{key:"updateCache",value:function(e,t){var n=t.data;e.writeData({data:{isLoggedIn:n.register.loggedIn,currentUser:n.register._id}})}},{key:"updateDemoCache",value:function(e,t){var n=t.data;e.writeData({data:{isLoggedIn:n.login.loggedIn,currentUser:n.login._id}})}},{key:"render",value:function(){var e=this;return Object(re.jsx)("div",{className:"auth-page-container",children:Object(re.jsx)(ne.a,{mutation:xe,onCompleted:function(e){var t=e.register.token;localStorage.setItem("currentUser",e.register._id),localStorage.setItem("auth-token",t)},update:function(t,n){return e.updateCache(t,n)},onError:function(e){console.log("ERROR in SignupBox ",{error:e})},children:function(t,n){var a=n.error;return Object(re.jsxs)("div",{className:"signup",children:[Object(re.jsx)("div",{className:"signup-header"}),Object(re.jsxs)("div",{className:"content",children:[Object(re.jsx)(ne.a,{mutation:ye,onCompleted:function(t){var n=t.login.token;localStorage.setItem("auth-token",n),e.props.history.push("/")},update:function(t,n){return e.updateDemoCache(t,n)}}),Object(re.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t({variables:{name:e.state.name,email:e.state.email,password:e.state.password}})},children:[Object(re.jsx)("br",{}),Object(re.jsxs)("div",{className:"login-form",children:[Object(re.jsx)("br",{}),Object(re.jsx)("label",{children:Object(re.jsx)("input",{value:e.state.name,onChange:e.update("name"),className:"input-register-1",placeholder:"\u0418\u043c\u044f"})}),Object(re.jsx)("br",{}),Object(re.jsx)("label",{children:Object(re.jsx)("input",{value:e.state.email,onChange:e.update("email"),className:"input-register-1",placeholder:"Email"})}),Object(re.jsx)("br",{}),Object(re.jsxs)("label",{children:[Object(re.jsx)("input",{value:e.state.password,onChange:e.update("password"),className:"input-register-1",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),a?Object(re.jsx)("div",{className:"input-error",children:a.graphQLErrors[0].message}):Object(re.jsx)("div",{style:{display:"none"},children:null})]}),Object(re.jsx)("br",{}),Object(re.jsx)("button",{type:"submit",className:"signup-submit",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(re.jsxs)("div",{className:"login-prompt",children:["\u0423 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c?",Object(re.jsx)(de.b,{id:"login-highlight",to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})]})}})})}}]),n}(V.Component),Ne=Object(ie.a)(S||(S=Object(ae.a)(["\n  mutation {\n    openNewPlaylistModalMutation @client\n  }\n"]))),we=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){return Object(J.a)(this,n),t.call(this,e)}return Object(W.a)(n,[{key:"render",value:function(){return Object(re.jsxs)("div",{className:"SideBar",children:[Object(re.jsx)("div",{className:"SideBar-Logo"}),Object(re.jsxs)("div",{className:"User-Nav",children:[Object(re.jsx)("div",{className:"nav-home",children:Object(re.jsx)(de.b,{to:"/",className:"home-link",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(re.jsx)("div",{className:"nav-search",children:Object(re.jsx)(de.b,{to:"/search",className:"search-link",children:"\u041f\u043e\u0438\u0441\u043a"})}),Object(re.jsx)("div",{className:"nav-library",children:Object(re.jsx)(de.b,{to:"/library/playlists",className:"library-link",children:"\u041f\u043b\u0435\u0439\u043b\u0438\u0441\u0442\u044b"})}),Object(re.jsx)("div",{className:"nav-favorites",children:Object(re.jsx)(de.b,{to:"/favorites",className:"favorites-link",children:"\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0435\u0441\u044f"})}),Object(re.jsx)("div",{className:"nav-create-playlist",children:Object(re.jsx)(ne.a,{mutation:Ne,children:function(e){return Object(re.jsx)("div",{className:"nav-create-playlist-title",onClick:e,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442 +"})}})})]})]})}}]),n}(K.a.Component),Se=Object(ie.a)(I||(I=Object(ae.a)(["\n  mutation {\n    playSongMutation(id: $id) @client\n  }\n"]))),Ie=function(e){var t={marginTop:"20px",height:"130px",width:"130px",backgroundImage:"url(".concat(e.imageUrl,")"),backgroundSize:"cover"};return Object(re.jsxs)("div",{className:"song-item",children:[Object(re.jsx)("div",{className:"song-image",style:t,children:Object(re.jsx)(ne.a,{mutation:Se,children:function(t){return Object(re.jsx)("div",{className:"song-click",onClick:function(){t({variables:{id:e._id}})},children:Object(re.jsx)("img",{id:"Mike",src:"https://spottocry.s3-us-west-1.amazonaws.com/play_white.png",alt:""})})}})}),Object(re.jsx)("div",{className:"song-info",children:Object(re.jsx)("p",{className:"info-name",children:e.title})})]})},_e=function(e){var t={marginTop:"20px",height:"130px",width:"130px",backgroundImage:"url(".concat(e.imageUrl,")"),backgroundSize:"cover",backgroundPostition:"center"};return Object(re.jsx)(de.b,{to:"artists/".concat(e._id),children:Object(re.jsxs)("div",{className:"artist-item",onClick:function(){return console.log("Navigate to ".concat(e.name," show page"))},children:[Object(re.jsx)("div",{className:"artist-image",style:t}),Object(re.jsx)("div",{className:"artist-info",children:Object(re.jsx)("p",{className:"info-name",children:e.name})})]})})},ke=oe.FETCH_ALL_SONGS,Le=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={search:"",songs:[],artists:[]},a.update=a.update.bind(Object(X.a)(a)),a.onSongFetch=a.onSongFetch.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"update",value:function(e){this.setState({search:e.currentTarget.value})}},{key:"onSongFetch",value:function(e){for(var t=[],n=[],a=[],i=[],s=0;s<e.length;s++){var r=e[s].title.toLowerCase(),c=e[s].artist.name.toLowerCase();r.includes(this.state.search.toLowerCase())&&t.push(e[s]),c.includes(this.state.search.toLowerCase())&&(i.includes(e[s].artist._id)||(i.push(e[s].artist._id),n.push(e[s].artist),a.push(e[s].artist)))}if(""===this.state.search)return this.setState({artists:a,songs:e});this.setState({artists:n,songs:t})}},{key:"render",value:function(){var e=this,t=this.state.songs.map((function(e){return Object(re.jsx)("li",{children:Ie(e)},e.id)})),n=this.state.artists.map((function(e){return Object(re.jsx)("li",{children:_e(e)},e.id)}));return Object(re.jsx)(ge.a,{children:function(a){if(0===e.state.songs.length)a.query({query:ke}).then((function(t){0===e.state.search.length&&e.onSongFetch(t.data.songs)})).data;return Object(re.jsxs)("div",{className:"search",children:[Object(re.jsxs)("div",{className:"search-bar",children:[Object(re.jsx)("div",{className:"search-image"}),Object(re.jsx)("input",{className:"search-input",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0438",onChange:function(t){e.update(t);a.query({query:ke}).then((function(t){e.onSongFetch(t.data.songs)})).data},value:e.state.search})]}),Object(re.jsxs)("div",{className:"search-results",children:[Object(re.jsx)("div",{className:"search-songs",children:"\u041a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0438"}),Object(re.jsx)("ul",{className:"searched-songs",children:t}),Object(re.jsx)("div",{className:"search-artist",children:"\u0418\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0438"}),Object(re.jsx)("ul",{className:"searched-artists",children:n})]})]})}})}}]),n}(K.a.Component),Ee=oe.IS_LOGGED_IN,Ce=function(e){return Object(re.jsx)("div",{className:"account",children:Object(re.jsx)(ge.a,{children:function(t){return Object(re.jsx)(ne.b,{query:Ee,children:function(n){if(n.data.isLoggedIn)return Object(re.jsx)("button",{className:"logout-button",onClick:function(n){n.preventDefault(),localStorage.removeItem("auth-token"),t.writeData({data:{isLoggedIn:!1}}),e.history.push("/")},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})}})}})})},Te=oe.FETCH_PLAYLISTS,Ue=oe.CURRENT_USER,Me=Object(ie.a)(_||(_=Object(ae.a)(["\n  mutation {\n    playPlaylistMutation(id: $id) @client\n  }\n"]))),De=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).setImages=a.setImages.bind(Object(X.a)(a)),a.createImages=a.createImages.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"setImages",value:function(e){var t=[];return void 0!==e&&(t=e.map((function(e){return e.imageUrl}))),this.createImages(t)}},{key:"createImages",value:function(e){return e.length>=1&&e.length<4?Object(re.jsx)("div",{className:"playlist-art-container",children:Object(re.jsx)("img",{src:e[0],alt:""})}):e.length>=4?e.slice(0,4).map((function(e){return Object(re.jsx)("div",{className:"playlist-idx-coverArt-item",children:Object(re.jsx)("img",{src:e,alt:""})},e)})):Object(re.jsx)("div",{className:"playlist-art-container",children:Object(re.jsx)("img",{src:"https://www.andrewwkmusic.com/wp-content/uploads/2014/05/No-album-art-itunes.jpg"})})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)("div",{className:"playlist-index-main",children:[Object(re.jsx)("h1",{className:"genre-index-header",children:Object(re.jsx)("span",{className:"artist-banner-name",children:"\u041f\u043b\u0435\u0439\u043b\u0438\u0441\u0442\u044b"})}),Object(re.jsx)(ne.b,{query:Ue,children:function(t){var n=t.loading,a=t.error,i=t.data;if(n)return Object(re.jsx)("option",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});if(a)return Object(re.jsx)("option",{children:a});var s=i.currentUser;return Object(re.jsx)(ne.b,{query:Te,children:function(t){var n=t.loading,a=t.error,i=t.data;if(n)return Object(re.jsx)("div",{class:"loader",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});if(a)return Object(re.jsx)("p",{children:a});var r=i.playlists.map((function(t){var n=t._id,a=t.title,i=t.songs;if(t.user._id===s){var r=i.length;return Object(re.jsxs)("div",{className:"album-artist-container",children:[Object(re.jsxs)("div",{className:"image-hover-container",children:[Object(re.jsx)("div",{className:"playlist-idx-cover-container",children:e.setImages(i)}),Object(re.jsx)("div",{className:"Mike",children:r>0&&Object(re.jsx)(ne.a,{mutation:Me,children:function(e){return Object(re.jsx)("button",{id:"Mike-button",onClick:function(){e({variables:{id:n}})},children:Object(re.jsx)("img",{id:"Mike",src:"https://i.ibb.co/58VgZKH/play-white.png",alt:""})})}})})]}),Object(re.jsx)(de.b,{id:"playlist-grid-title",to:"/playlists/".concat(n),children:Object(re.jsx)("div",{className:"title-container",children:a})})]},a)}}));return Object(re.jsx)("div",{className:"playlist-index-container",children:r})}})}})]})}}]),n}(K.a.Component),Re=n(49),Ge=Object(re.jsx)("div",{className:"cloud-container",children:Object(re.jsxs)("div",{id:"cloud",children:[Object(re.jsx)("span",{className:"shadow"}),Object(re.jsxs)("div",{className:"rain",children:[Object(re.jsx)("div",{className:"drop d1"}),Object(re.jsx)("div",{className:"drop d2"}),Object(re.jsx)("div",{className:"drop d3"}),Object(re.jsx)("div",{className:"drop d4"}),Object(re.jsx)("div",{className:"drop d5"}),Object(re.jsx)("div",{className:"drop d6"}),Object(re.jsx)("div",{className:"drop d7"}),Object(re.jsx)("div",{className:"drop d8"}),Object(re.jsx)("div",{className:"drop d9"}),Object(re.jsx)("div",{className:"drop d10"}),Object(re.jsx)("div",{className:"drop d11"}),Object(re.jsx)("div",{className:"drop d12"}),Object(re.jsx)("div",{className:"drop d13"}),Object(re.jsx)("div",{className:"drop d14"}),Object(re.jsx)("div",{className:"drop d15"})]})]})}),$e=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={songId:a.props.songId,bSide:!1},a}return Object(W.a)(n,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({songId:this.props.songId,bSide:!1})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(ne.b,{query:oe.FETCH_SONG,variables:{id:this.state.songId},children:function(t){var n=t.loading,a=t.error,i=t.data;return n?Object(re.jsx)("p",{className:"current-song-load-err",children:"Loading..."}):a?Object(re.jsx)("p",{className:"current-song-load-err",children:"Error"}):e.state.bSide?Object(re.jsx)("div",{className:"current-song-show-main",children:Object(re.jsxs)("div",{className:"current-song-show-B",children:[Object(re.jsx)("div",{className:"current-song-image-container",children:Object(re.jsx)("img",{className:"current-song-image",src:i.song.artist.imageUrl,onClick:function(){return e.setState({bSide:!1})}})}),Object(re.jsxs)("div",{className:"current-artist-info",children:[Object(re.jsx)("p",{className:"current-song-info-title",children:i.song.artist.name}),Object(re.jsx)("div",{className:"current-artist-genres",children:Object(re.jsx)("ul",{children:i.song.artist.genres.map((function(e){return Object(re.jsx)("li",{children:e.name},e._id)}))})}),Object(re.jsx)("div",{className:"current-artist-description",children:Object(re.jsx)("p",{children:"5e0534bd2ba87036631c6603"===i.song.artist._id?"22-year-old Eli Raybon has quickly established himself as a sci-fi weirdo auteur. The staunch non-conformist is now priming his most alluring release yet: a fully-fledged, sci-fi concept album called Supertoys. The record is pure retro-futurism, combining cyberpunk storytelling and disco beats with a myriad of analog synth work.":i.song.artist.description})})]})]})}):Object(re.jsx)("div",{className:"current-song-show-main",children:Object(re.jsxs)("div",{className:"current-song-show-A",children:[Object(re.jsx)("div",{className:"current-song-image-container",children:Object(re.jsx)("img",{className:"current-song-image",src:i.song.imageUrl,onClick:function(){return e.setState({bSide:!0})}})}),Object(re.jsxs)("div",{className:"current-song-info",children:[Object(re.jsx)("p",{className:"current-song-info-title",children:i.song.title}),Object(re.jsx)("p",{className:"current-song-info-artist",children:i.song.artist.name})]})]})})}})}}]),n}(K.a.Component),Fe=Object(ie.a)(k||(k=Object(ae.a)(["\n  query {\n    currentMusic {\n      id\n      musicType\n    }\n  }\n"]))),qe=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={loading:!0,playlist:[],prevSongs:[],playing:!1,minimized:!0,volume:.5,nextEventAttached:!1,timeInputVal:0},a.playNext=a.playNext.bind(Object(X.a)(a)),a.changeVolume=a.changeVolume.bind(Object(X.a)(a)),a.receiveNewPlaylist=a.receiveNewPlaylist.bind(Object(X.a)(a)),a.changeCurrentTime=a.changeCurrentTime.bind(Object(X.a)(a)),a.shuffleGenreSongs=a.shuffleGenreSongs.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"componentDidMount",value:function(){window.player||(window.player=document.getElementById("player"),window.player.volume=this.state.volume,this.setState({playlist:[],playing:!1})),window.player&&window.player.pause()}},{key:"componentDidUpdate",value:function(){var e=this;window.player&&!0===this.state.loading&&(window.player.addEventListener("ended",(function(){e.playNext()})),window.player.addEventListener("timeupdate",(function(){var e,t;if(!window.player)return null;e=window.player.currentTime?Math.floor(window.player.currentTime%60)<10?"".concat(Math.floor(window.player.currentTime/60))+":0".concat(Math.floor(window.player.currentTime%60)):"".concat(Math.floor(window.player.currentTime/60))+":".concat(Math.floor(window.player.currentTime%60)):"0:00",t=window.player.duration?Math.floor(window.player.duration%60)<10?"".concat(Math.floor(window.player.duration/60))+":0".concat(Math.floor(window.player.duration%60)):"".concat(Math.floor(window.player.duration/60))+":".concat(Math.floor(window.player.duration%60)):"0:00",document.getElementById("tracktime-1").innerHTML=e,document.getElementById("tracktime-2").innerHTML=t})),window.player.addEventListener("timeupdate",(function(){document.getElementById("timeskip")&&(document.getElementById("timeskip").value=Math.floor(window.player.currentTime/window.player.duration*100))})),this.setState({loading:!1,currentTime:window.player.currentTime,duration:window.player.duration}))}},{key:"componentWillUnmount",value:function(){window.localStorage.setItem("currentMusic","none"),window.player=null;var e=document.getElementById("player").cloneNode(!0),t=document.getElementById("player");t.parentNode.replaceChild(e,t)}},{key:"receiveNewPlaylist",value:function(e){var t=e.playlist,n=e.musicType,a=e.id;if(!window.player)return this.setState({playlist:[],musicType:null,id:null,playing:!1}),null;window.player.pause(),window.player.src=t[0].songUrl,window.player.volume=this.state.volume,"none"!==window.localStorage.getItem("currentMusic")&&window.player.play(),this.setState({playlist:t,musicType:n,id:a,playing:!0})}},{key:"playNext",value:function(){var e=this.state.playlist.length,t=Object(Re.a)(this.state.prevSongs);if(this.state.playlist[0]&&t.push(this.state.playlist[0]),1===e)window.player.pause(),t[0]&&(window.player.src=t[0].songUrl),window.player.load(),window.player.play(),this.setState({playlist:t,prevSongs:[]});else{var n=this.state.playlist.slice(1);window.player.pause(),n[0]&&(window.player.src=n[0].songUrl,window.player.load(),window.player.play()),this.setState({playlist:n,prevSongs:t})}}},{key:"changeVolume",value:function(e){window.player&&(window.player.volume=e.currentTarget.value/100,this.setState({volume:e.currentTarget.value/100}))}},{key:"changeCurrentTime",value:function(e){if(window.player){var t=window.player.duration,n=t*(parseInt(e.currentTarget.value)/100);n>=0&&n<=t?(window.player.currentTime=n,this.setState({timeInputVal:parseInt(e.currentTarget.value)})):(window.player.currentTime=0,this.setState({timeInputVal:0}))}}},{key:"shuffleGenreSongs",value:function(e){for(var t,n,a=e.length;a>0;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}},{key:"render",value:function(){var e,t=this,n=Object(re.jsx)("audio",{className:"music-player",id:"player",children:Object(re.jsx)("source",{src:this.state.playlist&&this.state.playlist[0]?this.state.playlist[0].songUrl:null,type:"audio/mpeg"})}),a=Object(re.jsx)("i",{className:window.player&&!window.player.paused?"fas fa-pause":"fas fa-play",id:"playpause",onClick:function(){window.player.paused?(window.player.play(),t.setState(Object.assign(t.state,{playing:!0}))):(window.player.pause(),t.setState(Object.assign(t.state,{playing:!1})))}}),i=this.state.playlist&&this.state.playlist.length>0?Object(re.jsx)("div",{children:Object(re.jsx)("i",{className:"fas fa-forward",id:"forward",onClick:this.playNext})}):"",s=window.player&&window.player.src.length>0?Object(re.jsx)("input",{type:"range",id:"timeskip",onChange:this.changeCurrentTime}):"",r=Object(re.jsx)("input",{type:"range",id:"volume",onChange:this.changeVolume,value:100*this.state.volume});e=0===this.state.volume?Object(re.jsx)("i",{className:"fas fa-volume-off",onClick:function(){t.setState({volume:.5}),window.player.volume=.5}}):this.state.volume<.6?Object(re.jsx)("i",{className:"fas fa-volume-down",onClick:function(){t.setState({volume:0}),window.player.volume=0}}):Object(re.jsx)("i",{className:"fas fa-volume-up",onClick:function(){t.setState({volume:0}),window.player.volume=0}});var c,l=Object(re.jsxs)("div",{className:"volume-container",children:[e,r]});this.state.playlist.length>0&&(c=this.state.playlist[0]);var o=this.state.playlist.length>0?Object(re.jsx)("div",{className:"music-player-current-title",children:c.title}):Object(re.jsx)("div",{className:"no-song-title-container",children:Object(re.jsx)("div",{className:"music-player-current-title-none",children:"\u041a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044f \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430"})}),d=Object(re.jsx)("div",{className:"current-song-module",children:this.state.playlist&&this.state.playlist.length>0?Object(re.jsx)($e,{songId:c._id}):Object(re.jsx)("div",{className:"current-song-nothing-selected",children:"No song selected"})});return Object(re.jsxs)("div",{className:"music-player-main-main",children:[this.state.minimized?"":Object(re.jsx)("div",{className:"music-player-modal",onClick:function(){return t.setState({minimized:!0})},children:Ge}),Object(re.jsx)(ne.b,{query:Fe,children:function(e){var n=e.loading,a=e.error,i=e.data;return n||a?null:"song"===i.currentMusic.musicType?Object(re.jsx)(ne.b,{query:oe.FETCH_SONG,variables:{id:i.currentMusic.id},children:function(e){var n=e.loading,a=e.error,i=e.data;return n?Object(re.jsx)("p",{children:"Loading..."}):a?Object(re.jsx)("p",{children:"Error"}):(t.state.playlist[0]!==i.song&&t.receiveNewPlaylist({playlist:[i.song],musicType:"song",id:i.song._id}),null)}}):"genre"===i.currentMusic.musicType?Object(re.jsx)(ne.b,{query:oe.FETCH_GENRE_SONGS,variables:{id:i.currentMusic.id},children:function(e){var n=e.loading,a=e.error,i=e.data;if(n)return Object(re.jsx)("p",{children:"Loading..."});if(a)return Object(re.jsx)("p",{children:"Error"});if(t.state.id!==i.genre._id){for(var s=[],r=i.genre.artists,c=0;c<r.length;c++)for(var l=r[c].songs,o=0;o<l.length;o++)s.push(l[o]);s=t.shuffleGenreSongs(s),t.receiveNewPlaylist({playlist:s,musicType:"genre",id:i.genre._id})}return null}}):"playlist"===i.currentMusic.musicType?Object(re.jsx)(ne.b,{query:oe.FETCH_PLAYLIST,variables:{id:i.currentMusic.id},children:function(e){var n=e.loading,a=e.error,i=e.data;if(n)return Object(re.jsx)("p",{children:"Loading..."});if(a)return Object(re.jsx)("p",{children:"Error"});if(t.state.id!==i.playlist._id){for(var s=[],r=i.playlist.songs,c=0;c<r.length;c++)s.push(r[c]);t.receiveNewPlaylist({playlist:s,musicType:"playlist",id:i.playlist._id})}return null}}):"likedSongs"===i.currentMusic.musicType?Object(re.jsx)(ne.b,{query:oe.FETCH_LIKED_SONGS,variables:{id:i.currentMusic.id},children:function(e){var n=e.loading,a=e.error,i=e.data;if(n)return Object(re.jsx)("p",{children:"Loading..."});if(a)return Object(re.jsx)("p",{children:"Error"});if(t.state.id!==i.user._id){for(var s=[],r=i.user.likedSongs,c=0;c<r.length;c++)s.push(r[c]);t.receiveNewPlaylist({playlist:s,musicType:"likedSongs",id:i.user._id})}return null}}):void 0}}),Object(re.jsxs)("div",{className:"music-player-main",children:[Object(re.jsxs)("div",{className:"music-player-minimized",children:[Object(re.jsxs)("div",{className:"music-player-left",children:[n,Object(re.jsxs)("div",{className:"music-play-button-container",children:[a,i,Object(re.jsxs)("div",{className:"time-track-and-skip",children:[Object(re.jsx)("span",{id:"tracktime-1"}),s,""===s?"":Object(re.jsx)("span",{id:"tracktime-divider-hidden",children:"/"}),Object(re.jsx)("span",{id:"tracktime-2"})]})]}),o]}),Object(re.jsxs)("div",{className:"music-player-right",children:[window.player&&window.player.src?l:Object(re.jsx)("span",{}),Object(re.jsx)("i",{className:"fas fa-bars music-player-hambuger"})]})]}),this.state.minimized?Object(re.jsx)("div",{className:"music-player-current-song-show minimized",children:d}):Object(re.jsx)("div",{className:"music-player-current-song-show",children:d})]})]})}}]),n}(K.a.Component),Pe=(n(66),se.NEW_PLAYLIST),Ae=oe.CURRENT_USER,He=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={title:"",description:""},a.handleSubmit=a.handleSubmit.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"update",value:function(e){var t=this;return function(n){return t.setState(Object(Z.a)({},e,n.target.value))}}},{key:"handleSubmit",value:function(e,t,n){var a=this;e.preventDefault(),t({variables:{user:n,title:this.state.title,description:this.state.description}}).then((function(){return a.props.closeModal()}))}},{key:"render",value:function(){var e=this,t=this.props.closeModal;return Object(re.jsx)(ne.b,{query:Ae,children:function(n){var a=n.loading,i=n.error,s=n.data;if(a)return Object(re.jsx)("option",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});if(i)return Object(re.jsx)("option",{children:i});var r=s.currentUser;return Object(re.jsx)(ne.a,{mutation:Pe,children:function(n){return Object(re.jsx)("div",{children:Object(re.jsx)("form",{onSubmit:function(t){return e.handleSubmit(t,n,r)},children:Object(re.jsxs)("div",{className:"modal-container",children:[Object(re.jsx)("h1",{id:"new-playlist-header",children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442"}),Object(re.jsx)("div",{className:"new-playlist-input-container",children:Object(re.jsx)("div",{className:"new-playlist-input-box",children:Object(re.jsx)("div",{className:"new-playlist-content-spacing",children:Object(re.jsx)("input",{type:"text",onChange:e.update("title"),className:"new-playlist-inputBox-input",value:e.state.title,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442\u0430"})})})}),Object(re.jsxs)("div",{className:"modal-buttons",children:[Object(re.jsx)("button",{className:"modal-button-cancel",onClick:t,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(re.jsx)("button",{className:"modal-button-create",type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})})})}})}})}}]),n}(V.Component),Be=se.ADD_PLAYLIST_SONG,Ve=oe.FETCH_PLAYLISTS,Ke=oe.CURRENT_USER,Ye=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).setImages=a.setImages.bind(Object(X.a)(a)),a.createImages=a.createImages.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"setImages",value:function(e){var t=[];return void 0!==e&&(t=e.map((function(e){return e.imageUrl}))),this.createImages(t)}},{key:"createImages",value:function(e){return e.length>=1&&e.length<4?Object(re.jsx)("div",{className:"playlist-art-container",children:Object(re.jsx)("img",{src:e[0],alt:""})}):e.length>=4?e.slice(0,4).map((function(e){return Object(re.jsx)("div",{className:"playlist-idx-coverArt-item",children:Object(re.jsx)("img",{src:e,alt:""})},e)})):Object(re.jsx)("div",{className:"playlist-art-container",children:Object(re.jsx)("img",{src:"https://www.andrewwkmusic.com/wp-content/uploads/2014/05/No-album-art-itunes.jpg"})})}},{key:"render",value:function(){var e=this,t=this.props.closeModal;return Object(re.jsx)(ne.b,{query:Ke,children:function(n){var a=n.loading,i=n.error,s=n.data;if(a)return Object(re.jsx)("option",{children:"Loading..."});if(i)return Object(re.jsx)("option",{children:i});var r=s.currentUser;return Object(re.jsx)(ne.b,{query:Ve,children:function(n){var a=n.loading,i=n.error,s=n.data;return a?Object(re.jsx)("h1",{children:"Loading..."}):i?Object(re.jsx)("h1",{children:i}):Object(re.jsxs)("div",{className:"modal-container",children:[Object(re.jsx)("h1",{id:"new-playlist-header",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0441\u043d\u044e \u0432 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442"}),Object(re.jsxs)("div",{className:"asp-playlistIndexContainer",children:[Object(re.jsx)("div",{className:"modal-buttons",children:Object(re.jsx)("button",{className:"modal-button-cancel",onClick:t,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})}),Object(re.jsx)("div",{className:"results",children:s.playlists.map((function(t){if(t.user._id===r)return Object(re.jsxs)("div",{className:"album-artist-container",children:[Object(re.jsx)(ne.a,{mutation:Be,children:function(n){return Object(re.jsxs)("div",{className:"atp-image-hover-container",onClick:function(){n({variables:{playlistId:t._id,songId:e.props.songId}}).then((function(){return e.props.closeModal()}))},children:[e.setImages(t.songs),Object(re.jsx)("div",{className:"Mike",children:Object(re.jsx)("button",{id:"Mike-button",children:Object(re.jsx)("svg",{width:"51px",height:"52px",viewBox:"88 88 51 52",children:Object(re.jsx)("path",{d:"M98,88 C92.477,88 88,92.477 88,98 C88,103.523 92.477,108 98,108 C103.523,108 108,103.523 108,98 C108,92.476 103.523,88 98,88 L98,88 Z M105.001,98.999 L99.001,98.999 L99.001,104.999 L97.001,104.999 L97.001,98.999 L91.001,98.999 L91.001,96.999 L97.001,96.999 L97.001,90.999 L99.001,90.999 L99.001,96.999 L105.001,96.999 L105.001,98.999 L105.001,98.999 Z M112.751,95.345 C112.868,95.998 112.938,96.665 112.967,97.344 L137,92.234 L137,119.265 C135.349,117.221 132.826,115.909 130,115.909 C125.038,115.909 121,119.947 121,124.909 C121,129.872 125.038,133.909 130,133.909 C134.962,133.909 139,129.872 139,124.909 L139,89.765 L112.751,95.345 L112.751,95.345 Z M130,131.909 C126.14,131.909 123,128.769 123,124.909 C123,121.05 126.14,117.909 130,117.909 C133.86,117.909 137,121.05 137,124.909 C137,128.77 133.859,131.909 130,131.909 L130,131.909 Z M105,125.354 C103.348,123.311 100.826,121.999 98,121.999 C93.037,121.999 89,126.037 89,130.999 C89,135.961 93.037,139.999 98,139.999 C102.963,139.999 107,135.961 107,130.999 L107,109.972 C106.368,110.448 105.704,110.884 105,111.257 L105,125.354 L105,125.354 Z M98,137.999 C94.14,137.999 91,134.859 91,130.999 C91,127.139 94.14,123.999 98,123.999 C101.86,123.999 105,127.139 105,130.999 C105,134.858 101.859,137.999 98,137.999 L98,137.999 Z",stroke:"none",fill:"#FFFFFF",fillRule:"evenodd",children:Object(re.jsx)("title",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442"})})})})})]})}}),Object(re.jsx)("div",{className:"asp-artist",children:t.title}),Object(re.jsxs)("div",{className:"asp-trackCount",children:[t.songs.length,t.songs.length>1||0===t.songs.length?" \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0439":" \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044f"]})]},t._id)}))})]})]})}})}})}}]),n}(K.a.Component),ze=Object(Q.g)(Ye),Qe=Object(ie.a)(L||(L=Object(ae.a)(["\n  query {\n    isModalOpen @client\n  }\n"]))),Ze=Object(ie.a)(E||(E=Object(ae.a)(["\n  query {\n    modalType @client,\n    songId @client\n  }\n"]))),Je=Object(ie.a)(C||(C=Object(ae.a)(["\n  mutation {\n    closeModalMutation @client\n  }\n"]))),We=function(){return Object(re.jsx)(ne.b,{query:Qe,children:function(e){return e.data.isModalOpen?Object(re.jsx)(ne.b,{query:Ze,children:function(e){var t=e.data;return"newPlaylist"===t.modalType?Object(re.jsx)(ne.a,{mutation:Je,children:function(e){return Object(re.jsx)("div",{className:"modal-background",children:Object(re.jsx)("div",{className:"modal-child-np",onClick:function(e){return e.stopPropagation()},children:Object(re.jsx)(He,{closeModal:e})})})}}):"newPlaylistSong"===t.modalType?Object(re.jsx)(ne.a,{mutation:Je,children:function(e){return Object(re.jsx)("div",{className:"modal-background",children:Object(re.jsx)("div",{className:"modal-child-asp",onClick:function(e){return e.stopPropagation()},children:Object(re.jsx)(ze,{closeModal:e,songId:t.songId})})})}}):void 0}}):null}})},Xe=Object(ie.a)(T||(T=Object(ae.a)(["\n  mutation {\n    openNewPlaylistSongModalMutation(id: $id) @client\n  }\n"]))),et=Object(ie.a)(U||(U=Object(ae.a)(["\n  mutation {\n    playSongMutation(id: $id) @client\n  }\n"]))),tt=Object(ie.a)(M||(M=Object(ae.a)(["\n  mutation {\n    playGenreMutation(id: $id) @client\n  }\n"]))),nt=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={playingGenre:!1,playingSongId:null},a.renderLikeButton=a.renderLikeButton.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"renderLikeButton",value:function(e,t){var n=this.state.currentUserId;return t.likes.includes(n)?Object(re.jsx)(ne.a,{mutation:se.REMOVE_SONG_LIKE,refetchQueries:[{query:oe.FETCH_LIKED_SONGS,variables:{id:this.state.currentUserId}}],children:function(t){return Object(re.jsx)("i",{className:"fas fa-heart",onClick:function(){t({variables:{songId:e,userId:n}})}})}}):Object(re.jsx)(ne.a,{mutation:se.ADD_SONG_LIKE,refetchQueries:[{query:oe.FETCH_LIKED_SONGS,variables:{id:this.state.currentUserId}}],children:function(t){return Object(re.jsx)("i",{className:"far fa-heart",onClick:function(){t({variables:{songId:e,userId:n}})}})}})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(ne.b,{query:oe.FETCH_GENRE,variables:{id:this.props.match.params.genreId},children:function(t){var n=t.loading,a=t.error,i=t.data;return n?Object(re.jsx)("div",{className:"genre-show-main",children:Object(re.jsx)("div",{class:"loader",children:"Loading..."})}):a?Object(re.jsx)("p",{children:"Error"}):Object(re.jsxs)("div",{className:"genre-show-main",children:[Object(re.jsxs)("h1",{className:"genre-index-header",children:[i.genre.name,e.state.currentUserId?Object(re.jsx)("span",{}):Object(re.jsx)(ne.b,{query:oe.CURRENT_USER,children:function(t){var n=t.loading,a=t.error,i=t.data;return n?Object(re.jsx)("div",{className:"genre-show-main"}):a?Object(re.jsx)("p",{children:"Error"}):(i&&e.setState({currentUserId:i.currentUser}),Object(re.jsx)("span",{}))}}),Object(re.jsx)(ne.a,{mutation:tt,children:function(t){return e.state.playingGenre?null:Object(re.jsx)("i",{className:"fas fa-random",onClick:function(){t({variables:{id:i.genre._id}}),e.setState({playingGenre:!0,playingSongId:null})}})}})]}),i.genre.artists.map((function(t){return Object(re.jsx)("ul",{className:"genre-artist-song-list",children:t.songs.map((function(n){return Object(re.jsxs)("div",{className:"genre-artist-song-item",children:[Object(re.jsxs)("div",{className:"title-play-like",children:[Object(re.jsx)(ne.a,{mutation:et,children:function(t){return Object(re.jsx)("i",{className:"fas fa-play-circle",onClick:function(){t({variables:{id:n._id}}),e.setState({playingSongId:n._id,playingGenre:!1})}})}}),Object(re.jsx)("div",{children:e.state.currentUserId?e.renderLikeButton(n._id,n):null}),Object(re.jsx)("span",{className:e.state.playingSongId!==n._id?"genre-artist-song-title":"genre-artist-song-title-playing",children:n.title})]}),Object(re.jsx)("span",{className:"genre-artist-item-name",children:Object(re.jsx)(de.b,{to:"/artists/".concat(t._id),children:t.name})}),Object(re.jsx)(ne.a,{mutation:Xe,children:function(e){return Object(re.jsx)("span",{className:"genre-song-add-button",onClick:function(){e({variables:{id:n._id}})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442 +"})}})]},n._id)}))})}))]})}})}}]),n}(K.a.Component),at=oe.FETCH_ALL_ARTISTS,it=Object(ie.a)(D||(D=Object(ae.a)(["\n  mutation {\n    openNewPlaylistSongModalMutation(id: $id) @client\n  }\n"]))),st=Object(ie.a)(R||(R=Object(ae.a)(["\n  mutation {\n    playSongMutation(id: $id) @client\n  }\n"]))),rt=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={songs:[]},a.renderLikeButton=a.renderLikeButton.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"renderLikeButton",value:function(e,t){var n=this.state.currentUserId;return t.likes.includes(n)?Object(re.jsx)(ne.a,{mutation:se.REMOVE_SONG_LIKE,refetchQueries:[{query:oe.FETCH_LIKED_SONGS,variables:{id:this.state.currentUserId}}],children:function(t){return Object(re.jsx)("i",{className:"fas fa-heart",onClick:function(){t({variables:{songId:e,userId:n}})}})}}):Object(re.jsx)(ne.a,{mutation:se.ADD_SONG_LIKE,refetchQueries:[{query:oe.FETCH_LIKED_SONGS,variables:{id:this.state.currentUserId}}],children:function(t){return Object(re.jsx)("i",{className:"far fa-heart",onClick:function(){t({variables:{songId:e,userId:n}})}})}})}},{key:"render",value:function(){var e=this,t=window.location.href.split("/").slice(-1)[0];return Object(re.jsx)(ne.b,{query:at,children:function(n){var a=n.loading,i=n.error,s=n.data;if(a)return Object(re.jsx)("div",{class:"loader",children:"Loading..."});if(i)return"Error! ".concat(i);for(var r=0;r<s.artists.length;r++)s.artists[r]._id===t&&(e.artist=s.artists[r]);var c={background:"url(".concat(e.artist.imageUrl,") no-repeat"),backgroundSize:"cover",backgroundPosition:"50% 50%"},l=e.artist.songs.map((function(t){return Object(re.jsxs)("li",{className:"genre-artist-song-item",children:[Object(re.jsx)("div",{className:"artist-song-play",children:Object(re.jsxs)("div",{className:"title-play-like",children:[Object(re.jsxs)("div",{className:"artist-play-btn",children:[e.state.currentUserId?Object(re.jsx)("span",{}):Object(re.jsx)(ne.b,{query:oe.CURRENT_USER,children:function(t){var n=t.loading,a=t.error,i=t.data;return n?Object(re.jsx)("div",{className:"genre-show-main"}):a?Object(re.jsx)("p",{children:"Error"}):(i&&e.setState({currentUserId:i.currentUser}),Object(re.jsx)("span",{}))}}),Object(re.jsx)(ne.a,{mutation:st,children:function(e){return Object(re.jsx)("i",{className:"fas fa-play-circle",onClick:function(){e({variables:{id:t._id}})}})}})]}),e.state.currentUserId?e.renderLikeButton(t._id,t):null,Object(re.jsx)("p",{className:"genre-artist-song-title",children:t.title})]})}),Object(re.jsx)("p",{className:"genre-artist-item-name",children:e.artist.name}),Object(re.jsx)(ne.a,{mutation:it,children:function(e){return Object(re.jsx)("span",{className:"genre-song-add-button",onClick:function(){return e({variables:{id:t._id}})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442 +"})}})]},t.id)}));return Object(re.jsxs)("div",{className:"artist-show",children:[Object(re.jsxs)("div",{className:"artist-banner",children:[Object(re.jsx)("div",{className:"artist-banner-info",children:Object(re.jsx)("p",{className:"artist-banner-name",children:e.artist.name})}),Object(re.jsx)("div",{className:"artist-pic",style:c})]}),Object(re.jsx)("div",{className:"artist-songs",children:Object(re.jsx)("ul",{className:"genre-artist-song-list",children:l})}),Object(re.jsx)("div",{className:"artist-songs"})]})}})}}]),n}(K.a.Component),ct=se.REMOVE_PLAYLIST_SONG,lt=Object(ie.a)(G||(G=Object(ae.a)(["\n  mutation {\n    playSongMutation(id: $id) @client\n  }\n"]))),ot=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={noteIcon:"https://spottocry.s3-us-west-1.amazonaws.com/music_note.png",noteContainerClass:"tc-outer-top",menuVisible:!1},a.playNote=a.playNote.bind(Object(X.a)(a)),a.musicNote=a.musicNote.bind(Object(X.a)(a)),a.toggleMenu=a.toggleMenu.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"playNote",value:function(){this.setState({noteIcon:"https://spottocry.s3-us-west-1.amazonaws.com/play.png",noteContainerClass:"tc-outer-top-2"})}},{key:"musicNote",value:function(){this.setState({noteIcon:"https://spottocry.s3-us-west-1.amazonaws.com/music_note.png",noteContainerClass:"tc-outer-top"})}},{key:"toggleMenu",value:function(){this.setState((function(e){return{menuVisible:!e.menuVisible}}))}},{key:"render",value:function(){var e=this,t=(this.state.menuVisible,this.props.song),n=this.state.noteContainerClass;return Object(re.jsxs)("div",{onMouseEnter:this.playNote,onMouseLeave:this.musicNote,className:"track-container",children:[Object(re.jsx)("div",{className:"tc-outer",children:Object(re.jsx)("div",{className:n,children:Object(re.jsx)(ne.a,{mutation:lt,children:function(n){return Object(re.jsx)("img",{id:"tc-note",src:e.state.noteIcon,onClick:function(){n({variables:{id:t._id}})}})}})})}),Object(re.jsxs)("div",{className:"tc-title-artist",children:[Object(re.jsx)("div",{className:"tc-title",children:t.title}),Object(re.jsx)("div",{className:"tc-artist",children:Object(re.jsx)(de.b,{to:"/artists/".concat(t.artist._id),children:t.artist.name})})]}),Object(re.jsx)("div",{className:"tc-context-menu",title:"More",children:Object(re.jsx)("div",{className:"genre-song-trash-button",children:Object(re.jsx)("div",{className:"cm-item",children:Object(re.jsx)(ne.a,{mutation:ct,children:function(n){return Object(re.jsx)("div",{onClick:function(){n({variables:{playlistId:e.props.playlistId,songId:t._id}})},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}})})})})]})}}]),n}(K.a.Component),dt=Object(Q.g)(ot),ut=se.DELETE_PLAYLIST,jt=oe.FETCH_PLAYLIST,bt=Object(ie.a)($||($=Object(ae.a)(["\n  mutation {\n    playPlaylistMutation(id: $id) @client\n  }\n"]))),mt=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={menuVisible:!1},a.toggleMenu=a.toggleMenu.bind(Object(X.a)(a)),a.setImages=a.setImages.bind(Object(X.a)(a)),a.createImages=a.createImages.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"toggleMenu",value:function(){this.setState((function(e){return{menuVisible:!e.menuVisible}}))}},{key:"setImages",value:function(e){var t=[];return void 0!==e&&(t=e.map((function(e){return e.imageUrl}))),this.createImages(t)}},{key:"createImages",value:function(e){return e.length>=1&&e.length<4?Object(re.jsx)("div",{className:"playlist-coverArt-single",children:Object(re.jsx)("img",{src:e[0]})}):e.length>=4?e.slice(0,4).map((function(e){return Object(re.jsx)("div",{className:"playlist-coverArt-item",children:Object(re.jsx)("img",{src:e})},e)})):Object(re.jsx)("div",{className:"playlist-coverArt-single",children:Object(re.jsx)("img",{src:"https://www.andrewwkmusic.com/wp-content/uploads/2014/05/No-album-art-itunes.jpg"})})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(ne.b,{query:jt,variables:{id:this.props.match.params.playlistId},children:function(t){var n,a=t.loading,i=t.error,s=t.data;if(a)return Object(re.jsx)("div",{className:"playlist-show-main",children:Object(re.jsx)("div",{class:"loader",children:"Loading..."})});if(i)return Object(re.jsx)("p",{children:i});var r=s.playlist.songs,c=s.playlist.songs.length;e.state.menuVisible;return n=s.playlist.songs.length>0?s.playlist.songs.map((function(t){return Object(re.jsx)(dt,{song:t,playlistId:e.props.match.params.playlistId},t._id)})):"",Object(re.jsx)("div",{className:"playlist-show-main",children:Object(re.jsx)("div",{className:"playlist-show-c1",children:Object(re.jsx)("div",{className:"playlist-show-c2",children:Object(re.jsx)("section",{id:"album-show-section",children:Object(re.jsx)("div",{className:"fluid-container",children:Object(re.jsxs)("div",{className:"fluid",children:[Object(re.jsx)("div",{className:"album-show-c3a",children:Object(re.jsxs)("div",{className:"album-show-c3a-content",children:[Object(re.jsx)("div",{className:"album-show-c3a-content-header",children:Object(re.jsxs)("div",{className:"cover-art-info",children:[Object(re.jsxs)("div",{className:"cover-art-shadow",children:[Object(re.jsx)("div",{children:Object(re.jsx)("div",{className:"playlist-cover-container",children:e.setImages(r)})}),Object(re.jsx)("button",{id:"cover-art-play"})]}),Object(re.jsx)("div",{className:"album-title-container",children:Object(re.jsx)("span",{children:s.playlist.title})})]})}),c>0&&Object(re.jsx)(ne.a,{mutation:bt,children:function(t){return Object(re.jsx)("div",{className:"album-show-left-play",onClick:function(){t({variables:{id:e.props.match.params.playlistId}})},children:"\u0418\u0433\u0440\u0430\u0442\u044c"})}}),Object(re.jsx)("div",{children:Object(re.jsxs)("div",{className:"album-show-c3a-bottom",children:[Object(re.jsxs)("p",{children:[c||0,1!=c?" \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0439":" \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u044f"]}),Object(re.jsx)(ne.a,{mutation:ut,children:function(t){return Object(re.jsx)("div",{id:"context-menu",className:"context-menu-show",onClick:function(){t({variables:{id:e.props.match.params.playlistId}}).then((function(){return e.props.history.push("/library/playlists")})).catch((function(e){console.log(e)}))},children:Object(re.jsx)("div",{className:"context-menu-item",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442"})})}})]})})]})}),Object(re.jsx)("div",{className:"album-show-c3b",children:n})]})})})})})})}})}}]),n}(K.a.Component),ht=Object(Q.g)(mt),pt=Object(ie.a)(F||(F=Object(ae.a)(["\n  mutation {\n    playSongMutation(id: $id) @client\n  }\n"]))),gt=Object(ie.a)(q||(q=Object(ae.a)(["\n  mutation {\n    openNewPlaylistSongModalMutation(id: $id) @client\n  }\n"]))),Ot=Object(ie.a)(P||(P=Object(ae.a)(["\n  mutation {\n    playLikedSongs(id: $id) @client\n  }\n"]))),vt=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(e){var a;return Object(J.a)(this,n),(a=t.call(this,e)).state={currentUserId:null,likedSongs:null},a.getLikedSongs=a.getLikedSongs.bind(Object(X.a)(a)),a.renderTrashIcon=a.renderTrashIcon.bind(Object(X.a)(a)),a}return Object(W.a)(n,[{key:"getLikedSongs",value:function(){var e=this;return Object(re.jsx)(ne.b,{query:oe.FETCH_LIKED_SONGS,variables:{id:this.state.currentUserId},children:function(t){var n=t.loading,a=t.error,i=t.data;if(n)return Object(re.jsx)("div",{class:"loader",children:"\u0417\u0430\u0433\u0443\u0437\u043a\u0430..."});if(a)return Object(re.jsx)("p",{children:"\u041e\u0448\u0438\u0431\u043a\u0430"});var s=i.user;return e.state.likedSongs!==s.likedSongs&&e.setState({likedSongs:s.likedSongs}),null}})}},{key:"renderTrashIcon",value:function(e,t){var n=this,a=this.state.currentUserId;return Object(re.jsx)(ne.a,{mutation:se.REMOVE_SONG_LIKE,refetchQueries:[{query:oe.FETCH_LIKED_SONGS,variables:{id:this.state.currentUserId}}],children:function(t){return Object(re.jsx)("i",{className:"genre-song-trash-button",onClick:function(){t({variables:{songId:e,userId:a}});for(var i=n.state.likedSongs,s=[],r=0;r<i.length;r++)i[r]._id!==e&&s.push(i[r]);n.setState({likedSongs:s})},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})}})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)("div",{className:"favorites-index-main",children:[Object(re.jsxs)("h1",{className:"genre-index-header",children:[Object(re.jsx)("span",{className:"favorite-songs-header",children:"\u041f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0435\u0441\u044f \u043a\u043e\u043c\u043f\u043e\u0437\u0438\u0446\u0438\u0438"}),Object(re.jsx)(ne.a,{mutation:Ot,variables:{id:this.state.currentUserId}})]}),this.state.currentUserId?Object(re.jsx)("div",{}):Object(re.jsx)(ne.b,{query:oe.CURRENT_USER,children:function(t){var n=t.loading,a=t.error,i=t.data;return n?Object(re.jsx)("p",{children:"Loading..."}):a?Object(re.jsx)("p",{children:"Error"}):(i&&e.setState({currentUserId:i.currentUser}),null)}}),this.state.currentUserId&&!this.state.likedSongs?this.getLikedSongs():null,this.state.likedSongs?Object(re.jsx)("ul",{className:"genre-artist-song-list favorites-list",children:this.state.likedSongs.map((function(t){return Object(re.jsxs)("li",{className:"genre-artist-song-item favorites-item",children:[Object(re.jsx)(ne.a,{mutation:pt,children:function(n){return Object(re.jsx)("i",{className:"fas fa-play-circle",onClick:function(){n({variables:{id:t._id}}),e.setState({playingSongId:t._id,playingGenre:!1})}})}}),Object(re.jsx)("span",{className:e.state.playingSongId!==t._id?"genre-artist-song-title":"genre-artist-song-title-playing",children:t.title}),Object(re.jsx)("span",{className:"genre-artist-item-name",children:Object(re.jsx)(de.b,{to:"/artists/".concat(t.artist._id),children:t.artist.name})}),Object(re.jsx)(ne.a,{mutation:gt,children:function(e){return Object(re.jsx)("span",{className:"genre-song-add-button",onClick:function(){e({variables:{id:t._id}})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043b\u0435\u0439\u043b\u0438\u0441\u0442 +"})}}),e.state.currentUserId?e.renderTrashIcon(t._id,t):null]},t._id)}))}):null]})}}]),n}(K.a.Component),xt=function(){return Object(re.jsxs)("div",{className:"full-app",children:[Object(re.jsxs)("div",{className:"app-content",children:[Object(re.jsx)(pe,{path:"/",component:we,routeType:"protected"}),Object(re.jsx)(pe,{path:"/",component:ve,routeType:"protected"}),Object(re.jsxs)(Q.d,{children:[Object(re.jsx)(pe,{exact:!0,path:"/login",component:le,routeType:"auth"}),Object(re.jsx)(pe,{exact:!0,path:"/register",component:fe,routeType:"auth"}),Object(re.jsx)(pe,{exact:!0,path:"/search",component:Le,routeType:"protected"}),Object(re.jsx)(pe,{exact:!0,path:"/account",component:Ce,routeType:"protected"}),Object(re.jsx)(pe,{exact:!0,path:"/library/playlists/",component:De,routeType:"protected"}),Object(re.jsx)(pe,{exact:!0,path:"/",component:ue,routeType:"protected"}),Object(re.jsx)(pe,{exact:!0,path:"/genres/:genreId",component:nt,routeType:"protected"}),Object(re.jsx)(pe,{exact:!0,path:"/artists/:artistId",component:rt,routeType:"protected"}),Object(re.jsx)(pe,{exact:!0,path:"/playlists/:playlistId",component:ht,routeType:"protected"}),Object(re.jsx)(pe,{exact:!0,path:"/favorites",component:vt,routeType:"protected"})]}),Object(re.jsx)(We,{})]}),Object(re.jsx)(pe,{path:"/",component:qe,routeType:"protected"})]})},yt=n(27),ft=n(50),Nt=n(51),wt=n(48);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St,It,_t,kt={Mutation:{openNewPlaylistModalMutation:function(e,t,n){return n.cache.writeData({data:{songId:null,isModalOpen:!0,modalType:"newPlaylist"}}),null},openNewPlaylistSongModalMutation:function(e,t,n){return n.cache.writeData({data:{songId:t.id,isModalOpen:!0,modalType:"newPlaylistSong"}}),null},closeModalMutation:function(e,t,n){return n.cache.writeData({data:{isModalOpen:!1,modalType:null}}),null},playSongMutation:function(e,t,n){var a=n.cache;Object.keys(a.data.data).forEach((function(e){return e.match(/^currentMusic/)&&a.data.delete(e)})),a.writeData({data:{currentMusic:{id:t.id,musicType:"song",__typename:"SongType"}}});var i={id:t.id,musicType:"song",__typename:"SongType"};return window.localStorage.setItem("currentMusic",JSON.stringify(i)),null},playPlaylistMutation:function(e,t,n){n.cache.writeData({data:{currentMusic:{id:t.id,musicType:"playlist",__typename:"PlaylistType"}}});var a={id:t.id,musicType:"playlist",__typename:"PlaylistType"};return window.localStorage.setItem("currentMusic",JSON.stringify(a)),null},playGenreMutation:function(e,t,n){n.cache.writeData({data:{currentMusic:{id:t.id,musicType:"genre",__typename:"GenreType"}}});var a={id:t.id,musicType:"genre",__typename:"GenreType"};return window.localStorage.setItem("currentMusic",JSON.stringify(a)),null},playLikedSongs:function(e,t,n){n.cache.writeData({data:{currentMusic:{id:t.id,musicType:"likedSongs",__typename:"SongType"}}});var a={id:t.id,musicType:"likedSongs",__typename:"SongType"};return window.localStorage.setItem("currentMusic",JSON.stringify(a)),null}}},Lt=se.VERIFY_USER;function Et(){return(Et=Object(B.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_t=new ft.a({dataIdFromObject:function(e){return e._id||null}}),t=Object(Nt.a)({uri:St,headers:{authorization:localStorage.getItem("auth-token")}}),Object(wt.a)((function(e){var t=e.graphQLErrors;t&&t.map((function(e){var t=e.message;return console.log(t)}))})),It=new yt.c({resolvers:kt,link:t,cache:_t,onError:function(e){var t=e.networkError,n=e.graphQLErrors;console.log("graphQLErrors",n),console.log("networkError",t)}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(){return(Ct=Object(B.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("auth-token"),e.next=3,_t.writeData({data:{isLoggedIn:Boolean(t),isModalOpen:!1}});case 3:if(!t){e.next=6;break}return e.next=6,It.mutate({mutation:Lt,variables:{token:t}}).then((function(e){var t=e.data;_t.writeData({data:{isLoggedIn:t.verifyUser.loggedIn,currentUser:t.verifyUser._id}})}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}St="https://my-web-projectt.herokuapp.com/graphql",function(){return Et.apply(this,arguments)}().then((function(){return function(){return Ct.apply(this,arguments)}()})).then((function(){var e=function(){return Object(re.jsx)(ge.b,{client:It,children:Object(re.jsx)(de.a,{children:Object(re.jsx)(xt,{})})})};z.a.render(Object(re.jsx)(e,{}),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.972464ec.chunk.js.map